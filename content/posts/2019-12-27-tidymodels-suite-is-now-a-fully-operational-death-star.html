---
title: Tidymodels suite is now “a fully operational death star”
author: Caroline Ledbetter
date: '2019-12-27'
publishDate: '2020-01-31'
slug: tidymodels-suite-demo
categories:
  - R
tags:
  - tidyverse
  - tidymodels
lastmod: '2019-12-27T17:14:17-07:00'
description: ''
show_in_homepage: yes
show_description: ''
license: ''
featured_image: ''
featured_image_preview: ''
comment: yes
math: no
---



{{% tweet "1204918320346157056" %}}
<p>I have been trying to incorporate more of the <code>tidymodels</code> suite of packages
into my predictive models workflow (<code>rsample</code>, <code>recipes</code>) but I find myself
frequently falling back on <code>caret</code> for model tuning and fitting
because it’s what I know. This post is a workthrough from start to finish using
the <code>tidymodels</code> suite. This post is NOT a tutorial for supervised learning.
It assumes you know how and why to split your data, resample, up/down sample
tune parameters, evaluate models etc.
If you are looking for guides for machine learning, I highly recommend:<br />
:star:
<a href="https://alison.rbind.io/post/2019-12-23-learning-to-teach-machines-to-learn/">Learning to teach machines to learn:</a>
This post from Alison Hill is full of great resources.<br />
:closed_book:<a href="http://appliedpredictivemodeling.com">Applied Predictive Modeling</a>
by Max Kuhn and Kjell Johnson<br />
:closed_book:
<a href="https://www.springer.com/gp/book/9781461471370">Intro to Statisitcal Learning</a>
by Gareth James, Daniela Witten, Trevor Hastie and Robert Tibshirani<br />
:closed_book:
<a href="https://www.springer.com/gp/book/9780387848570">The Elements of Statistical Learning</a>
by Trevor Hastie, Robert Tibshirani and Jerome Friedman</p>
<p><strong>The Data</strong><br />
For this post I am going to use the
<a href="http://archive.ics.uci.edu/ml/datasets/Statlog+(German+Credit+Data)">German Credit data</a>
from the University of California Irving Machine Learning Repository. If you
have the <code>caret</code> package installed, it is included.</p>
<pre class="r"><code>library(tidymodels)
data(GermanCredit, package = &quot;caret&quot;)
GermanCredit %&gt;% glimpse(width = 65)</code></pre>
<pre><code>## Observations: 1,000
## Variables: 62
## $ Duration                               &lt;int&gt; 6, 48, 12, 42, …
## $ Amount                                 &lt;int&gt; 1169, 5951, 209…
## $ InstallmentRatePercentage              &lt;int&gt; 4, 2, 2, 2, 3, …
## $ ResidenceDuration                      &lt;int&gt; 4, 2, 3, 4, 4, …
## $ Age                                    &lt;int&gt; 67, 22, 49, 45,…
## $ NumberExistingCredits                  &lt;int&gt; 2, 1, 1, 1, 2, …
## $ NumberPeopleMaintenance                &lt;int&gt; 1, 1, 2, 2, 2, …
## $ Telephone                              &lt;dbl&gt; 0, 1, 1, 1, 1, …
## $ ForeignWorker                          &lt;dbl&gt; 1, 1, 1, 1, 1, …
## $ Class                                  &lt;fct&gt; Good, Bad, Good…
## $ CheckingAccountStatus.lt.0             &lt;dbl&gt; 1, 0, 0, 1, 1, …
## $ CheckingAccountStatus.0.to.200         &lt;dbl&gt; 0, 1, 0, 0, 0, …
## $ CheckingAccountStatus.gt.200           &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ CheckingAccountStatus.none             &lt;dbl&gt; 0, 0, 1, 0, 0, …
## $ CreditHistory.NoCredit.AllPaid         &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ CreditHistory.ThisBank.AllPaid         &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ CreditHistory.PaidDuly                 &lt;dbl&gt; 0, 1, 0, 1, 0, …
## $ CreditHistory.Delay                    &lt;dbl&gt; 0, 0, 0, 0, 1, …
## $ CreditHistory.Critical                 &lt;dbl&gt; 1, 0, 1, 0, 0, …
## $ Purpose.NewCar                         &lt;dbl&gt; 0, 0, 0, 0, 1, …
## $ Purpose.UsedCar                        &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ Purpose.Furniture.Equipment            &lt;dbl&gt; 0, 0, 0, 1, 0, …
## $ Purpose.Radio.Television               &lt;dbl&gt; 1, 1, 0, 0, 0, …
## $ Purpose.DomesticAppliance              &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ Purpose.Repairs                        &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ Purpose.Education                      &lt;dbl&gt; 0, 0, 1, 0, 0, …
## $ Purpose.Vacation                       &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ Purpose.Retraining                     &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ Purpose.Business                       &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ Purpose.Other                          &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ SavingsAccountBonds.lt.100             &lt;dbl&gt; 0, 1, 1, 1, 1, …
## $ SavingsAccountBonds.100.to.500         &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ SavingsAccountBonds.500.to.1000        &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ SavingsAccountBonds.gt.1000            &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ SavingsAccountBonds.Unknown            &lt;dbl&gt; 1, 0, 0, 0, 0, …
## $ EmploymentDuration.lt.1                &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ EmploymentDuration.1.to.4              &lt;dbl&gt; 0, 1, 0, 0, 1, …
## $ EmploymentDuration.4.to.7              &lt;dbl&gt; 0, 0, 1, 1, 0, …
## $ EmploymentDuration.gt.7                &lt;dbl&gt; 1, 0, 0, 0, 0, …
## $ EmploymentDuration.Unemployed          &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ Personal.Male.Divorced.Seperated       &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ Personal.Female.NotSingle              &lt;dbl&gt; 0, 1, 0, 0, 0, …
## $ Personal.Male.Single                   &lt;dbl&gt; 1, 0, 1, 1, 1, …
## $ Personal.Male.Married.Widowed          &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ Personal.Female.Single                 &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ OtherDebtorsGuarantors.None            &lt;dbl&gt; 1, 1, 1, 0, 1, …
## $ OtherDebtorsGuarantors.CoApplicant     &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ OtherDebtorsGuarantors.Guarantor       &lt;dbl&gt; 0, 0, 0, 1, 0, …
## $ Property.RealEstate                    &lt;dbl&gt; 1, 1, 1, 0, 0, …
## $ Property.Insurance                     &lt;dbl&gt; 0, 0, 0, 1, 0, …
## $ Property.CarOther                      &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ Property.Unknown                       &lt;dbl&gt; 0, 0, 0, 0, 1, …
## $ OtherInstallmentPlans.Bank             &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ OtherInstallmentPlans.Stores           &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ OtherInstallmentPlans.None             &lt;dbl&gt; 1, 1, 1, 1, 1, …
## $ Housing.Rent                           &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ Housing.Own                            &lt;dbl&gt; 1, 1, 1, 0, 0, …
## $ Housing.ForFree                        &lt;dbl&gt; 0, 0, 0, 1, 1, …
## $ Job.UnemployedUnskilled                &lt;dbl&gt; 0, 0, 0, 0, 0, …
## $ Job.UnskilledResident                  &lt;dbl&gt; 0, 0, 1, 0, 0, …
## $ Job.SkilledEmployee                    &lt;dbl&gt; 1, 1, 0, 1, 1, …
## $ Job.Management.SelfEmp.HighlyQualified &lt;dbl&gt; 0, 0, 0, 0, 0, …</code></pre>
