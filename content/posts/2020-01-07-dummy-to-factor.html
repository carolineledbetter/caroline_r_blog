---
title: Dummy to Factor
author: Caroline Ledbetter
date: '2020-01-07'
slug: dummy-to-factor
categories:
  - R
tags:
  - tidyverse
lastmod: '2020-01-07T12:44:44-07:00'
description: 'Converting Dummy Variables to Factors'
show_in_homepage: yes
show_description: yes
license: ''
featured_image: ''
featured_image_preview: ''
comment: yes
math: no
---



<style type="text/css">
pre code, pre, code {
  white-space: pre !important;
  overflow-x: scroll !important;
  word-break: keep-all !important;
  word-wrap: initial !important;
}
</style>
<p><strong>Motivation</strong><br />
I often have raw data where a variable has been provided as dummy variables
as opposed to a character/factor variable. For example <code>job_employed = 1</code>,
<code>job_unemployed = 0</code> instead of <code>job = employed</code>. While some modeling
algorithms require the use of dummy variables, this can make it challenging
to detect missing/multiple data and to create tables. For example in the German
Credit Data<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, if you want a count of the <em>purpose of the loan</em> field,
you first
have to <code>sum</code> and then <code>pivot_longer</code> and it doesn’t tell you if any
observation
has no values true or multiple values true.</p>
<pre class="r"><code>library(tidyverse)
data(GermanCredit, package = &quot;caret&quot;)
GermanCredit %&gt;% summarise_at(vars(starts_with(&#39;Purpose&#39;)), sum)</code></pre>
<pre><code>##   Purpose.NewCar Purpose.UsedCar Purpose.Furniture.Equipment
## 1            234             103                         181
##   Purpose.Radio.Television Purpose.DomesticAppliance Purpose.Repairs
## 1                      280                        12              22
##   Purpose.Education Purpose.Vacation Purpose.Retraining Purpose.Business
## 1                50                0                  9               97
##   Purpose.Other
## 1            12</code></pre>
<pre class="r"><code>GermanCredit %&gt;% 
  summarise_at(vars(starts_with(&#39;Purpose&#39;)), sum) %&gt;% 
  pivot_longer(cols = everything(), 
               names_to = &#39;Purpose&#39;, 
               values_to = &#39;count&#39;, 
               names_pattern = &#39;^[^.]+[.](.*)&#39;)</code></pre>
<pre><code>## # A tibble: 11 x 2
##    Purpose             count
##    &lt;chr&gt;               &lt;dbl&gt;
##  1 NewCar                234
##  2 UsedCar               103
##  3 Furniture.Equipment   181
##  4 Radio.Television      280
##  5 DomesticAppliance      12
##  6 Repairs                22
##  7 Education              50
##  8 Vacation                0
##  9 Retraining              9
## 10 Business               97
## 11 Other                  12</code></pre>
<p>Now, what if you want to look at <em>checking account status</em> vs
<em>housing status</em>. This
is very difficult/tedious to do without converting to factors.</p>
<pre class="r"><code>GermanCredit %&gt;% 
  summarise(Lt0_and_Rent = sum(CheckingAccountStatus.lt.0 &amp; Housing.Rent), 
            `0to200_and_Rent` = sum(CheckingAccountStatus.0.to.200 &amp; 
                                      Housing.Rent))</code></pre>
<pre><code>##   Lt0_and_Rent 0to200_and_Rent
## 1           65              48</code></pre>
<pre class="r"><code># et cetera.</code></pre>
<p>To that end I have created a function to convert dummy variables to factors.
It requires that your variables have a seperator so that it can detect the
main variable name from the level.
My original function was quite slow and I appreciated the extremely valuable
help provided by
<a href="https://community.rstudio.com/u/cderv/summary">Christophe Dervieux</a> via
this
<a href="https://community.rstudio.com/t/convert-dummy-variables-to-factors/48356">Rstudio community post</a>
.</p>
<pre class="r"><code>fct_dummy &lt;- function(data, 
                      variables = tidyselect::everything(), 
                      sep = &#39;.&#39;) {
  variables &lt;- rlang::enquo(variables)
  # transform to long format the dummy columns
  tmp &lt;- 
    tidyr::pivot_longer(data, 
                        cols = intersect(tidyselect::contains(sep),  
                                         !!variables),
                        names_to = c(&quot;groups&quot;, &quot;levels&quot;),
                        names_pattern = paste0(&quot;^([^&#39;&quot;, sep, &quot;]*)[&quot;, 
                                               sep, &quot;](.*)&quot;))
  
  # get the groups name for column selection after
  groups &lt;- unique(tmp$groups)
  
  
  # keep only non dummy value and do not keep temp value col
  tmp &lt;- dplyr::select(
    dplyr::filter(tmp, value == 1),
    -value)
  
  # function to return &#39;multiple&#39; if more than 1 value is present
  ret_multiple &lt;- function(x){
    if(length(x) &gt; 1) return(&#39;multiple&#39;)
    return(x)
  }
  
  
  # tranform to wide format   
  tmp &lt;- tidyr::pivot_wider(
    tmp,
    names_from = groups, 
    values_from = levels, 
    values_fn = list(levels = ret_multiple))
  
  
  # convert to factors the groups column
  dplyr::mutate_at(
    tmp,
    groups,
    ~ forcats::as_factor(.)
  )
}</code></pre>
<p>Here is the original German Credit data and the converted tibble.</p>
<pre class="r"><code>glimpse(GermanCredit)</code></pre>
<pre><code>## Observations: 1,000
## Variables: 62
## $ Duration                               &lt;int&gt; 6, 48, 12, 42, 24, 36, 24, 36,…
## $ Amount                                 &lt;int&gt; 1169, 5951, 2096, 7882, 4870, …
## $ InstallmentRatePercentage              &lt;int&gt; 4, 2, 2, 2, 3, 2, 3, 2, 2, 4, …
## $ ResidenceDuration                      &lt;int&gt; 4, 2, 3, 4, 4, 4, 4, 2, 4, 2, …
## $ Age                                    &lt;int&gt; 67, 22, 49, 45, 53, 35, 53, 35…
## $ NumberExistingCredits                  &lt;int&gt; 2, 1, 1, 1, 2, 1, 1, 1, 1, 2, …
## $ NumberPeopleMaintenance                &lt;int&gt; 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, …
## $ Telephone                              &lt;dbl&gt; 0, 1, 1, 1, 1, 0, 1, 0, 1, 1, …
## $ ForeignWorker                          &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
## $ Class                                  &lt;fct&gt; Good, Bad, Good, Good, Bad, Go…
## $ CheckingAccountStatus.lt.0             &lt;dbl&gt; 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, …
## $ CheckingAccountStatus.0.to.200         &lt;dbl&gt; 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, …
## $ CheckingAccountStatus.gt.200           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ CheckingAccountStatus.none             &lt;dbl&gt; 0, 0, 1, 0, 0, 1, 1, 0, 1, 0, …
## $ CreditHistory.NoCredit.AllPaid         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ CreditHistory.ThisBank.AllPaid         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ CreditHistory.PaidDuly                 &lt;dbl&gt; 0, 1, 0, 1, 0, 1, 1, 1, 1, 0, …
## $ CreditHistory.Delay                    &lt;dbl&gt; 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, …
## $ CreditHistory.Critical                 &lt;dbl&gt; 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, …
## $ Purpose.NewCar                         &lt;dbl&gt; 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, …
## $ Purpose.UsedCar                        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, …
## $ Purpose.Furniture.Equipment            &lt;dbl&gt; 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, …
## $ Purpose.Radio.Television               &lt;dbl&gt; 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, …
## $ Purpose.DomesticAppliance              &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ Purpose.Repairs                        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ Purpose.Education                      &lt;dbl&gt; 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, …
## $ Purpose.Vacation                       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ Purpose.Retraining                     &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ Purpose.Business                       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ Purpose.Other                          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ SavingsAccountBonds.lt.100             &lt;dbl&gt; 0, 1, 1, 1, 1, 0, 0, 1, 0, 1, …
## $ SavingsAccountBonds.100.to.500         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ SavingsAccountBonds.500.to.1000        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, …
## $ SavingsAccountBonds.gt.1000            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, …
## $ SavingsAccountBonds.Unknown            &lt;dbl&gt; 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, …
## $ EmploymentDuration.lt.1                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ EmploymentDuration.1.to.4              &lt;dbl&gt; 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, …
## $ EmploymentDuration.4.to.7              &lt;dbl&gt; 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, …
## $ EmploymentDuration.gt.7                &lt;dbl&gt; 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, …
## $ EmploymentDuration.Unemployed          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, …
## $ Personal.Male.Divorced.Seperated       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, …
## $ Personal.Female.NotSingle              &lt;dbl&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ Personal.Male.Single                   &lt;dbl&gt; 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, …
## $ Personal.Male.Married.Widowed          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, …
## $ Personal.Female.Single                 &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ OtherDebtorsGuarantors.None            &lt;dbl&gt; 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, …
## $ OtherDebtorsGuarantors.CoApplicant     &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ OtherDebtorsGuarantors.Guarantor       &lt;dbl&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, …
## $ Property.RealEstate                    &lt;dbl&gt; 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, …
## $ Property.Insurance                     &lt;dbl&gt; 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, …
## $ Property.CarOther                      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, …
## $ Property.Unknown                       &lt;dbl&gt; 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, …
## $ OtherInstallmentPlans.Bank             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ OtherInstallmentPlans.Stores           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ OtherInstallmentPlans.None             &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
## $ Housing.Rent                           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, …
## $ Housing.Own                            &lt;dbl&gt; 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, …
## $ Housing.ForFree                        &lt;dbl&gt; 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, …
## $ Job.UnemployedUnskilled                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ Job.UnskilledResident                  &lt;dbl&gt; 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, …
## $ Job.SkilledEmployee                    &lt;dbl&gt; 1, 1, 0, 1, 1, 0, 1, 0, 0, 0, …
## $ Job.Management.SelfEmp.HighlyQualified &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, …</code></pre>
<pre class="r"><code>new_dat &lt;- fct_dummy(GermanCredit)
glimpse(new_dat)</code></pre>
<pre><code>## Observations: 1,000
## Variables: 21
## $ Duration                  &lt;int&gt; 6, 48, 12, 42, 24, 36, 24, 36, 12, 30, 12, …
## $ Amount                    &lt;int&gt; 1169, 5951, 2096, 7882, 4870, 9055, 2835, 6…
## $ InstallmentRatePercentage &lt;int&gt; 4, 2, 2, 2, 3, 2, 3, 2, 2, 4, 3, 3, 1, 4, 2…
## $ ResidenceDuration         &lt;int&gt; 4, 2, 3, 4, 4, 4, 4, 2, 4, 2, 1, 4, 1, 4, 4…
## $ Age                       &lt;int&gt; 67, 22, 49, 45, 53, 35, 53, 35, 61, 28, 25,…
## $ NumberExistingCredits     &lt;int&gt; 2, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1…
## $ NumberPeopleMaintenance   &lt;int&gt; 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ Telephone                 &lt;dbl&gt; 0, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 1…
## $ ForeignWorker             &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ Class                     &lt;fct&gt; Good, Bad, Good, Good, Bad, Good, Good, Goo…
## $ CheckingAccountStatus     &lt;fct&gt; lt.0, 0.to.200, none, lt.0, lt.0, none, non…
## $ CreditHistory             &lt;fct&gt; Critical, PaidDuly, Critical, PaidDuly, Del…
## $ Purpose                   &lt;fct&gt; Radio.Television, Radio.Television, Educati…
## $ SavingsAccountBonds       &lt;fct&gt; Unknown, lt.100, lt.100, lt.100, lt.100, Un…
## $ EmploymentDuration        &lt;fct&gt; gt.7, 1.to.4, 4.to.7, 4.to.7, 1.to.4, 1.to.…
## $ Personal                  &lt;fct&gt; Male.Single, Female.NotSingle, Male.Single,…
## $ OtherDebtorsGuarantors    &lt;fct&gt; None, None, None, Guarantor, None, None, No…
## $ Property                  &lt;fct&gt; RealEstate, RealEstate, RealEstate, Insuran…
## $ OtherInstallmentPlans     &lt;fct&gt; None, None, None, None, None, None, None, N…
## $ Housing                   &lt;fct&gt; Own, Own, Own, ForFree, ForFree, ForFree, O…
## $ Job                       &lt;fct&gt; SkilledEmployee, SkilledEmployee, Unskilled…</code></pre>
<p>You can also use the variables argument to only convert certain variables.</p>
<pre class="r"><code>dat &lt;- rename_all(GermanCredit, str_replace, 
                  pattern = &#39;[.]&#39;, replacement = &#39;_&#39;)
glimpse(fct_dummy(dat, variables = starts_with(&#39;P&#39;), sep = &#39;_&#39;))</code></pre>
<pre><code>## Observations: 1,000
## Variables: 45
## $ Duration                               &lt;int&gt; 6, 48, 12, 42, 24, 36, 24, 36,…
## $ Amount                                 &lt;int&gt; 1169, 5951, 2096, 7882, 4870, …
## $ InstallmentRatePercentage              &lt;int&gt; 4, 2, 2, 2, 3, 2, 3, 2, 2, 4, …
## $ ResidenceDuration                      &lt;int&gt; 4, 2, 3, 4, 4, 4, 4, 2, 4, 2, …
## $ Age                                    &lt;int&gt; 67, 22, 49, 45, 53, 35, 53, 35…
## $ NumberExistingCredits                  &lt;int&gt; 2, 1, 1, 1, 2, 1, 1, 1, 1, 2, …
## $ NumberPeopleMaintenance                &lt;int&gt; 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, …
## $ Telephone                              &lt;dbl&gt; 0, 1, 1, 1, 1, 0, 1, 0, 1, 1, …
## $ ForeignWorker                          &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
## $ Class                                  &lt;fct&gt; Good, Bad, Good, Good, Bad, Go…
## $ CheckingAccountStatus_lt.0             &lt;dbl&gt; 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, …
## $ CheckingAccountStatus_0.to.200         &lt;dbl&gt; 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, …
## $ CheckingAccountStatus_gt.200           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ CheckingAccountStatus_none             &lt;dbl&gt; 0, 0, 1, 0, 0, 1, 1, 0, 1, 0, …
## $ CreditHistory_NoCredit.AllPaid         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ CreditHistory_ThisBank.AllPaid         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ CreditHistory_PaidDuly                 &lt;dbl&gt; 0, 1, 0, 1, 0, 1, 1, 1, 1, 0, …
## $ CreditHistory_Delay                    &lt;dbl&gt; 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, …
## $ CreditHistory_Critical                 &lt;dbl&gt; 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, …
## $ SavingsAccountBonds_lt.100             &lt;dbl&gt; 0, 1, 1, 1, 1, 0, 0, 1, 0, 1, …
## $ SavingsAccountBonds_100.to.500         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ SavingsAccountBonds_500.to.1000        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, …
## $ SavingsAccountBonds_gt.1000            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, …
## $ SavingsAccountBonds_Unknown            &lt;dbl&gt; 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, …
## $ EmploymentDuration_lt.1                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ EmploymentDuration_1.to.4              &lt;dbl&gt; 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, …
## $ EmploymentDuration_4.to.7              &lt;dbl&gt; 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, …
## $ EmploymentDuration_gt.7                &lt;dbl&gt; 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, …
## $ EmploymentDuration_Unemployed          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, …
## $ OtherDebtorsGuarantors_None            &lt;dbl&gt; 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, …
## $ OtherDebtorsGuarantors_CoApplicant     &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ OtherDebtorsGuarantors_Guarantor       &lt;dbl&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, …
## $ OtherInstallmentPlans_Bank             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ OtherInstallmentPlans_Stores           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ OtherInstallmentPlans_None             &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
## $ Housing_Rent                           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, …
## $ Housing_Own                            &lt;dbl&gt; 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, …
## $ Housing_ForFree                        &lt;dbl&gt; 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, …
## $ Job_UnemployedUnskilled                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ Job_UnskilledResident                  &lt;dbl&gt; 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, …
## $ Job_SkilledEmployee                    &lt;dbl&gt; 1, 1, 0, 1, 1, 0, 1, 0, 0, 0, …
## $ Job_Management.SelfEmp.HighlyQualified &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, …
## $ Purpose                                &lt;fct&gt; Radio.Television, Radio.Televi…
## $ Personal                               &lt;fct&gt; Male.Single, Female.NotSingle,…
## $ Property                               &lt;fct&gt; RealEstate, RealEstate, RealEs…</code></pre>
<p>It is now straightforward to look at groupings of factors.</p>
<pre class="r"><code>new_dat %&gt;% 
  count(Housing, CheckingAccountStatus)</code></pre>
<pre><code>## # A tibble: 12 x 3
##    Housing CheckingAccountStatus     n
##    &lt;fct&gt;   &lt;fct&gt;                 &lt;int&gt;
##  1 Own     lt.0                    170
##  2 Own     0.to.200                192
##  3 Own     none                    304
##  4 Own     gt.200                   47
##  5 ForFree lt.0                     39
##  6 ForFree 0.to.200                 29
##  7 ForFree none                     32
##  8 ForFree gt.200                    8
##  9 Rent    lt.0                     65
## 10 Rent    0.to.200                 48
## 11 Rent    none                     58
## 12 Rent    gt.200                    8</code></pre>
<p>We can also see if we have multiples or missing data points</p>
<pre class="r"><code>GermanCredit[1, 13]</code></pre>
<pre><code>## [1] 0</code></pre>
<pre class="r"><code>GermanCredit[1, 13] &lt;- 1</code></pre>
<pre class="r"><code>GermanCredit[1, 57] </code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="r"><code>GermanCredit[1, 57] &lt;- 0</code></pre>
<pre class="r"><code>new_dat &lt;- fct_dummy(GermanCredit)
new_dat %&gt;% 
  count(Housing, CheckingAccountStatus)</code></pre>
<pre><code>## Warning: Factor `Housing` contains implicit NA, consider using
## `forcats::fct_explicit_na`</code></pre>
<pre><code>## # A tibble: 13 x 3
##    Housing CheckingAccountStatus     n
##    &lt;fct&gt;   &lt;fct&gt;                 &lt;int&gt;
##  1 Own     0.to.200                192
##  2 Own     none                    304
##  3 Own     lt.0                    169
##  4 Own     gt.200                   47
##  5 ForFree 0.to.200                 29
##  6 ForFree none                     32
##  7 ForFree lt.0                     39
##  8 ForFree gt.200                    8
##  9 Rent    0.to.200                 48
## 10 Rent    none                     58
## 11 Rent    lt.0                     65
## 12 Rent    gt.200                    8
## 13 &lt;NA&gt;    multiple                  1</code></pre>
<p>I have not yet decided what to do with this function, if I want to put it in
one of my own packages or try and add it to another package. Please feel free
to use it you find it useful.</p>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>This post uses the
<a href="http://archive.ics.uci.edu/ml/datasets/Statlog+(German+Credit+Data)">German Credit data</a>
from the University of California Irving Machine Learning Repository. If you
have the <code>caret</code> package installed, it is included.<a href="#fnref1" class="footnote-back">↩</a></p></li>
</ol>
</div>
